<form *ngIf="isEditable; else total"
      [formGroup]="form"
      autocomplete="off">

  <mat-form-field>
    <input formControlName="duration"
           matInput
           [errorStateMatcher]="errorStateMatcher"
           (blur)="commit()"
           (keydown.escape)="cancel()"
           (keydown.Tab)="checkIfLeavingIsAllowed()"
           min="0">
    <span matPrefix *ngIf="durationControl.dirty">*</span>
  </mat-form-field>

</form>

<ng-template #total>
  <span *ngIf="isOpen">
    {{totalDuration}}
  </span>
</ng-template>
